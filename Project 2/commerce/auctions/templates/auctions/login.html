{% extends "auctions/layout.html" %}

{% block body %}

    <div class="page-title">
        <h2>Login</h2>
    </div>

    <div class="d-flex justify-content-center">
        <div class="auctions-form" style="width: 25rem;">
            <form class="row gy-4 justify-content-center" action="{% url 'login' %}" method="post" id="login-form">
                {% csrf_token %}
                <div class="col-12">
                    <div class="form-floating">
                        <input autofocus class="form-control" type="text" name="username" placeholder="Username" id="username" required>
                        <label for="username">Username</label>
                    </div>
                </div>
                <div class="col-12">
                    <div class="form-floating">
                        <input class="form-control" type="password" name="password" placeholder="Password" id="password" required>
                        <label for="password">Password</label>
                    </div>
                </div>
                <div class="col-12 text-center">
                    <input class="btn btn-primary" type="submit" value="Login">
                </div>
                <div class="col-12 text-center">
                    <div class="form-text">
                        Don't have an account?
                        <a href="{% url 'register' %}">Register here.</a>
                    </div>
                </div>
            </form>     
        </div>
    </div>

    <script>
        const form = document.getElementById('login-form');
        form.scrollIntoView({behavior:"smooth", block:"center"});

        {% if message %}
            console.log('message through javascript');
            document.addEventListener('DOMContentLoaded', () => {
                alert('{{ message }}');
            })
        {% endif %}
    </script>

{% endblock %}